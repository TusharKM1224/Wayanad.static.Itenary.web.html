<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Wayanad Adventures — Reimagined (3D Flip)</title>
<link rel="icon" href="Resources/travel.png" />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Anton&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root{
  /* dark theme defaults */
  --bg-1:#071014;
  --bg-2:#0f2a26;
  --card:#0e1b1a;
  --accent:#55A79A;
  --accent-2:#2fb6a9;
  --muted:#828d8b;
  --glass: rgba(255,255,255,0.06);
  --glass-2: rgba(255,255,255,0.03);
  --round:14px;
  --container:1100px;
  --card-h: 340px;
  --text: #e7f6f4;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter,system-ui,Segoe UI,Roboto,-apple-system,Arial;
  background:
    radial-gradient(1200px 600px at 10% 10%, rgba(47,182,169,0.06), transparent),
    linear-gradient(180deg,var(--bg-1),var(--bg-2));
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  -webkit-text-size-adjust:100%;
  overflow-y:auto;
}

/* Layout */
.container{max-width:var(--container); margin:36px auto; padding:20px;}
.header{
  border-radius:calc(var(--round) + 6px);
  padding:28px;
  overflow:hidden;
  background:
    linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03)),
    linear-gradient(90deg, rgba(47,182,169,0.05), rgba(85,167,154,0.02));
  box-shadow: 0 12px 48px rgba(0,0,0,0.55);
  display:grid;
  grid-template-columns:1fr 360px;
  gap:24px;
  align-items:stretch;
}
.hero-left{padding:6px 4px}
.title{
  font-family:Anton, sans-serif;
  font-size: clamp(28px, 4.6vw, 48px);
  margin:0 0 6px;
  letter-spacing:0.04em;
  line-height:1;
  background:linear-gradient(90deg,var(--accent),var(--accent-2));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.subtitle{color:var(--muted); margin-bottom:16px; font-weight:500}
.meta-row{display:flex; gap:12px; flex-wrap:wrap; align-items:center}
.pill{background:var(--glass); padding:10px 12px; border-radius:999px; font-size:14px; color:var(--muted); display:inline-flex; gap:8px; align-items:center}
.countdown{display:flex; gap:10px; margin-top:18px; align-items:center}
.count-item{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.04)); padding:12px 14px; border-radius:10px; min-width:64px; text-align:center}
.count-value{font-weight:700; font-size:18px; color:var(--accent-2)}
.count-label{font-size:12px; color:var(--muted)}
.controls{display:flex; gap:12px; margin-top:18px; align-items:center; flex-wrap:wrap}
.btn{background:linear-gradient(180deg,var(--accent),var(--accent-2)); border:none; color:#052d2a; padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:600; text-decoration: none; display: inline-flex; align-items: center; justify-content: center; gap: 6px; transition: all 0.2s ease;}
.btn:hover{transform: translateY(-2px); box-shadow: 0 6px 12px rgba(47,182,169,0.3);}
.btn.ghost{background:transparent; border:1px solid rgba(255,255,255,0.05); color:var(--muted)}
.btn.ghost:hover{background:rgba(255,255,255,0.05); transform: translateY(-2px);}

/* Spotify Button */
.spotify-btn {
  background: linear-gradient(180deg, #1DB954, #1ed760);
  color: white;
  border: none;
  padding: 10px 16px;
  border-radius: 10px;
  cursor: pointer;
  font-weight: 600;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: all 0.2s ease;
  box-shadow: 0 4px 12px rgba(29, 185, 84, 0.3);
}
.spotify-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(29, 185, 84, 0.4);
}

.hero-right{display:flex; gap:12px; align-items:center; justify-content:center; position:relative}
.image-stack{width:100%; display:grid; grid-template-rows: 1fr 1fr; gap:10px}
.img-card{position:relative; overflow:hidden; border-radius:12px; box-shadow:0 18px 40px rgba(0,0,0,0.5); height:140px}
.img-card img{width:100%; height:100%; object-fit:cover; transform:scale(1.05); transition:transform .9s cubic-bezier(.2,.9,.2,1)}
.img-card:hover img{transform:scale(1.12) rotate(1deg)}
.avatar-row{display:flex; gap:10px; align-items: center; margin-top:10px; flex-direction: row;}
.avatar{width:46px;height:46px;border-radius:50%;display: grid;place-items: center;background-color:var(--glass); font-size:20px; color:#e7eeed; border:1px solid rgba(255,255,255,0.03)}
.avatar-img{ overflow: hidden;width: 46px; height: 46px; border-radius: 50%;object-fit: contain;}

/* Tabs */
.tabs{display:flex; gap:8px; margin:18px 0; flex-wrap:wrap}
.tab{padding:10px 14px; border-radius:999px; background:var(--glass-2); color:var(--muted); cursor:pointer; border:1px solid rgba(224, 219, 219, 0.02)}
.tab.active{background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#052d2a; font-weight:700; transform:translateY(-3px); box-shadow:0 10px 30px rgba(43,145,136,0.12)}

/* Grid & cards (flip) */
.grid{display:grid; gap:18px; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); align-items:start}
.card{
  perspective:1200px;
  height:var(--card-h);
  position:relative;
  transform-style:preserve-3d;
}
.card-inner{
  position:relative; width:100%; height:100%;
  transition:transform .75s cubic-bezier(.2,.9,.2,1);
  transform-style:preserve-3d;
}
.card.flip .card-inner,
.card:hover .card-inner{transform:rotateY(180deg);}
.card-face{
  position:absolute; inset:0; border-radius:12px; overflow:hidden; -webkit-backface-visibility:hidden; backface-visibility:hidden;
  box-shadow: 0 14px 36px rgba(0,0,0,0.45);
  display:flex; flex-direction:column;
}
.card-front img{width:100%; height:100%; object-fit:cover; display:block; transform:scale(1.02); transition:transform .6s}
.card:hover .card-front img{transform:scale(1.08)}
.card-back{
  background:var(--card);
  transform:rotateY(180deg); padding:16px; gap:8px; justify-content:flex-start;
  color:var(--muted);
}
.card-back .back-head{display:flex; justify-content:space-between; align-items:flex-start; gap:8px}
.card-title{font-weight:700; color:var(--accent-2); margin:0 0 6px; font-size:16px}
.card-time{font-size:13px; color:var(--muted)}
.card-desc{font-size:14px; color:var(--muted); margin-top:6px; line-height:1.4; flex:1; overflow:auto}
.chips{display:flex; gap:8px; flex-wrap:wrap; margin-top:8px}
.chip{font-size:12px;padding:6px 8px;border-radius:999px;background:rgba(255,255,255,0.02);color:var(--muted)}

/* detail modal */
.detail-overlay{position:fixed; inset:0; background:linear-gradient(180deg, rgba(0,0,0,0.65), rgba(0,0,0,0.75)); display:none; align-items:center; justify-content:center; z-index:60; padding:20px;}
.detail-overlay.active{display:flex}
.detail-card{width:min(980px,95%); background:linear-gradient(180deg,#021615, #062827); border-radius:14px; overflow:hidden; display:grid; grid-template-columns:1fr 360px; gap:0; box-shadow:0 30px 80px rgba(0,0,0,0.7)}
.detail-main{padding:22px}
.detail-main h2{margin:0 0 8px; font-family:Anton, sans-serif; font-size:24px; color:var(--accent-2)}
.detail-main p{color:var(--muted)}
.detail-right{padding:18px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03))}

/* guidelines modal */
.modal{position:fixed; inset:0; background:linear-gradient(180deg, rgba(0,0,0,0.65), rgba(0,0,0,0.75)); display:none; align-items:center; justify-content:center; z-index:70; padding:20px}
.modal .card{max-width:760px}

/* floating blob */
.bg-blob{position:fixed; right:-120px; bottom:-120px; width:420px; height:420px; border-radius:50%;
  background: radial-gradient(circle at 30% 30%, rgba(47,182,169,0.14), transparent 30%),
              radial-gradient(circle at 70% 70%, rgba(85,167,154,0.10), transparent 30%);
  filter: blur(28px); z-index:0; transform:rotate(18deg)}

/* footer */
footer{margin:30px auto; text-align:center; color:var(--muted); font-size:14px}

/* responsive */
@media (max-width:980px){
  .header{grid-template-columns:1fr}
  .hero-right{order:-1}
  .detail-card{grid-template-columns:1fr; max-height:92vh; overflow:auto}
}
@media (max-width:668px) {
  .container { margin: 20px auto; padding: 15px; }
  .header { padding: 20px; gap: 18px; }
  .controls { gap: 10px; }
  .controls .btn { padding: 8px 12px; font-size: 14px; }
  .spotify-btn { padding: 8px 12px; font-size: 14px; }
  .meta-row { gap: 8px; }
  .pill { padding: 8px 10px; font-size: 13px; }
  .countdown { gap: 8px; margin-top: 14px; }
  .count-item { padding: 10px 12px; min-width: 56px; }
  .count-value { font-size: 16px; }
  .count-label { font-size: 11px; }
  .grid { grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 14px; }
  .card { height: 320px; }
  .img-card { height: 120px; }
  .avatar { width: 40px; height: 40px; font-size: 18px; }
}
@media (max-width:480px) {
  .container { margin: 12px auto; padding: 12px; }
  .header { padding: 16px; gap: 14px; }
  .controls { flex-direction: column; align-items: flex-start; }
  .controls .btn { width: 100%; justify-content: center; }
  .spotify-btn { width: 100%; justify-content: center; }
  .meta-row { justify-content: center; }
  .countdown { justify-content: center; }
  .grid { grid-template-columns: 1fr; gap: 12px; }
  .card { height: 300px; }
  .img-card { height: 100px; }
  .avatar { width: 36px; height: 36px; font-size: 16px; }
  .tabs { justify-content: center; }
}

/* focus state for keyboard users */
.show-focus *:focus{outline:2px solid rgba(47,182,169,0.18); outline-offset:2px}
</style>
</head>
<body>
  <div class="bg-blob" aria-hidden="true"></div>

  <main class="container" id="app">
    <header class="header" role="banner">
      <div class="hero-left">
        <h1 class="title">WAYANAD ADVENTURES</h1>
        <div class="subtitle">A concise, itinerary for the squad. Plan, share, enjoy.</div>

        <div class="meta-row" aria-hidden="false">
          <div class="pill"><i class="fas fa-users"></i> 5 friends</div>
          <div class="pill"><i class="fas fa-road"></i> Road trip</div>
          <div class="pill"><i class="fas fa-calendar-days"></i> Oct 17–19, 2025</div>
        </div>

        <div class="countdown" id="countdownCompact" aria-hidden="false">
          <div class="count-item"><div class="count-value" id="c-days">00</div><div class="count-label">Days</div></div>
          <div class="count-item"><div class="count-value" id="c-hours">00</div><div class="count-label">Hours</div></div>
          <div class="count-item"><div class="count-value" id="c-mins">00</div><div class="count-label">Mins</div></div>
          <div class="count-item"><div class="count-value" id="c-secs">00</div><div class="count-label">Secs</div></div>
        </div>

        <div class="controls">
          <button class="btn" id="openGuidelines"><i class="fas fa-book-open"></i>&nbsp; Guidelines</button>
          <button class="btn ghost" id="toggleTheme"><i class="fas fa-sun"></i>&nbsp; Light</button>
          
          <!-- Spotify Button Link (replaces iframe) -->
          <a href="https://open.spotify.com/playlist/3WYcf7gpY5Hoz5rPU117HW?si=ra8leoBhQCmw31HX1xlMkA&pi=g2rtF0TpRceA9" target="_blank" rel="noopener noreferrer" class="spotify-btn">
            <i class="fab fa-spotify"></i> Road Trip Playlist
          </a>
          
          <div style="flex:1"></div>
          <div style="color:var(--muted); font-size:13px; align-self:center">Car: KA51MY5521</div>
        </div>
      </div>

      <aside class="hero-right" aria-hidden="false">
        <div style="width:100%">
          <div class="image-stack">
            <div class="img-card" title="Trip start">
              <img src="Resources/glass-bridge-900-kandi-wayanad.jpg" alt="Trip Start — screenshot">
            </div>
            <div style="display:flex; gap:10px">
              <div class="img-card" style="flex:1">
                <img src="Resources/phantom-rock-1725873394_e8876f6a089532341df9.webp" alt="Phantom Rock">
              </div>
              <div class="img-card" style="flex:1">
                <img src="Resources/outlooktraveller_2024-02_7a1019a2-496c-4671-a3d8-7da40b2acf76_shutterstock_796295632.avif" alt="Edakkal Caves">
              </div>
            </div>
          </div>

          <div class="avatar-row" style="margin-top:12px; justify-content:center">
            <div class="avatar" title="Abhishek"><div class="avatar-img"><img src="Resources/Dutta_imresizer.png" alt=""></div></div>
            <div class="avatar" title="Sreyas"><div class="avatar-img"><img src="Resources/sreyas_imresizer.png" alt=""></div></div>
            <div class="avatar" title="Barnita"><div class="avatar-img"><img src="Resources/Bar_imresizer.png" alt=""></div></div>
            <div class="avatar" title="Bipradip"><div class="avatar-img"><img src="Resources/Bipradip_imresizer.png" alt=""></div></div>
            <div class="avatar" title="Tushar"><div class="avatar-img"><img src="Resources/WhatsApp Image 2025-..._imresizer.png" alt=""></div></div>
          </div>
        </div>
      </aside>
    </header>

    <nav style="margin-top:12px">
      <div class="tabs" role="tablist" aria-label="Trip days">
        <button class="tab active" data-day="day1">Day 1</button>
        <button class="tab" data-day="day2">Day 2</button>
        <div style="flex:1"></div>
        <button class="tab" id="flipAllBtn">Flip all</button>
        <button class="tab" id="unflipAllBtn" style="display:none">Unflip all</button>
      </div>
    </nav>

    <!-- Day 1 -->
    <section id="day1" class="day-section">
      <div class="grid" id="grid-day1">
        <!-- Cards created from original content with flip structure -->
        <article class="card" tabindex="0" data-name="Wayanad, Here We Come !!" data-time="7:00PM,17/10/2025 ,Friday" data-desc="Starting our journey to Wayanad with a night drive. Tushar and Sreyas will handle the driving shifts." data-img="Resources/Screenshot_20250926-183849.png">
          <div class="card-inner">
            <div class="card-face card-front"><img src="Resources/Screenshot_20250926-183849.png" alt="Wayanad start"></div>
            <div class="card-face card-back">
              <div class="back-head">
                <div>
                  <div class="card-title">Wayanad, Here We Come !!</div>
                  <div class="card-time">7:00PM, 17/10/2025</div>
                </div>
                <div style="text-align:right; font-size:12px; color:var(--muted)">Car Ride</div>
              </div>
              <div class="card-desc">Night drive start. Driver shifts split between Tushar and Sreyas. Four breaks planned.</div>
              <div class="chips"><span class="chip">Car</span><span class="chip">Night</span><span class="chip">Photography</span></div>
            </div>
          </div>
        </article>

        <article class="card" tabindex="0" data-name="Phantom Rock" data-time="11:30AM,18/10/2025 ,Saturday" data-desc="Visiting the famous Phantom Rock viewpoint with its unique skull-shaped rock formation." data-img="Resources/phantom-rock-1725873394_e8876f6a089532341df9.webp">
          <div class="card-inner">
            <div class="card-face card-front"><img src="Resources/phantom-rock-1725873394_e8876f6a089532341df9.webp" alt="Phantom Rock"></div>
            <div class="card-face card-back">
              <div class="back-head">
                <div>
                  <div class="card-title">Phantom Rock</div>
                  <div class="card-time">11:30AM, 18/10/2025</div>
                </div>
                <div style="text-align:right; font-size:12px; color:var(--muted)">Hike</div>
              </div>
              <div class="card-desc">Natural metamorphic rock shaped like a skull. Short visit then head to Edakkal Caves.</div>
              <div class="chips"><span class="chip">Hills</span><span class="chip">Trekking</span><span class="chip">Viewpoint</span></div>
            </div>
          </div>
        </article>

        <article class="card" tabindex="0" data-name="Edakkal Caves" data-time="12:30PM,18/10/2025 ,Saturday" data-desc="Exploring ancient stone age carvings and trekking through historical caves with Mesolithic artifacts." data-img="Resources/outlooktraveller_2024-02_7a1019a2-496c-4671-a3d8-7da40b2acf76_shutterstock_796295632.avif">
          <div class="card-inner">
            <div class="card-face card-front"><img src="Resources/outlooktraveller_2024-02_7a1019a2-496c-4671-a3d8-7da40b2acf76_shutterstock_796295632.avif" alt="Edakkal Caves"></div>
            <div class="card-face card-back">
              <div class="back-head">
                <div>
                  <div class="card-title">Edakkal Caves</div>
                  <div class="card-time">12:30PM, 18/10/2025</div>
                </div>
                <div style="text-align:right; font-size:12px; color:var(--muted)">History</div>
              </div>
              <div class="card-desc">Stone Age carvings along the trek. Expect 1–1.5 hours at the site.</div>
              <div class="chips"><span class="chip">Trek</span><span class="chip">Ancient</span><span class="chip">Caves</span></div>
            </div>
          </div>
        </article>

        <article class="card" tabindex="0" data-name="Karapuzha Dam" data-time="2:00PM,18/10/2025 ,Saturday" data-desc="Adventure park activities at the dam including zip-line and giant swings." data-img="Resources/Karappuzha-dam-Adventure-park.webp">
          <div class="card-inner">
            <div class="card-face card-front"><img src="Resources/Karappuzha-dam-Adventure-park.webp" alt="Karapuzha Dam"></div>
            <div class="card-face card-back">
              <div class="back-head">
                <div>
                  <div class="card-title">Karapuzha Dam</div>
                  <div class="card-time">2:00PM, 18/10/2025</div>
                </div>
                <div style="text-align:right; font-size:12px; color:var(--muted)">Adventure</div>
              </div>
              <div class="card-desc">Zip-lining, giant swing and other adventure activities. Plan 2–2.5 hours.</div>
              <div class="chips"><span class="chip">Zipline</span><span class="chip">Swings</span></div>
            </div>
          </div>
        </article>

        <article class="card" tabindex="0" data-name="Aanandam Villa (Airbnb)" data-time="5:30PM, 18/10/2025" data-desc="Relax at the villa with evening drinks and barbecue to end the first day." data-img="Resources/Screenshot_20250926-183142.png">
          <div class="card-inner">
            <div class="card-face card-front"><img src="Resources/Screenshot_20250926-183142.png" alt="Aanandam Villa"></div>
            <div class="card-face card-back">
              <div class="back-head">
                <div>
                  <div class="card-title">Aanandam Villa</div>
                  <div class="card-time">5:30PM, 18/10/2025</div>
                </div>
                <div style="text-align:right; font-size:12px; color:var(--muted)">Stay</div>
              </div>
              <div class="card-desc">Evening activities and barbecue. Rest and gear up for day two.</div>
              <div class="chips"><span class="chip">Barbecue</span><span class="chip">Chill</span></div>
            </div>
          </div>
        </article>
      </div>
    </section>

    <!-- Day 2 -->
    <section id="day2" class="day-section" style="display:none">
      <div class="grid" id="grid-day2">
        <article class="card" tabindex="0" data-name="Morning at Aanandam Villa" data-time="7:00AM,19/10/2025" data-desc="Sunrise, breakfast, ethnic photos, prepare for Soochipara Falls." data-img="Resources/Screenshot_20250926-183142.png">
          <div class="card-inner">
            <div class="card-face card-front"><img src="Resources/Screenshot_20250926-183142.png" alt="Morning Villa"></div>
            <div class="card-face card-back">
              <div class="back-head">
                <div>
                  <div class="card-title">Morning at Villa</div>
                  <div class="card-time">7:00AM, 19/10/2025</div>
                </div>
                <div style="text-align:right; font-size:12px; color:var(--muted)">Relax</div>
              </div>
              <div class="card-desc">Breakfast and photoshoot. Start day two adventures by 10:30 AM.</div>
              <div class="chips"><span class="chip">Sunrise</span><span class="chip">Photoshoot</span></div>
            </div>
          </div>
        </article>

        <article class="card" tabindex="0" data-name="Soochipara Falls" data-time="11:30AM,19/10/2025" data-desc="Three-tiered waterfall with trekking and rock climbing opportunities." data-img="Resources/photo0jpg.jpg">
          <div class="card-inner">
            <div class="card-face card-front"><img src="Resources/photo0jpg.jpg" alt="Soochipara Falls"></div>
            <div class="card-face card-back">
              <div class="back-head">
                <div>
                  <div class="card-title">Soochipara Falls</div>
                  <div class="card-time">11:30AM, 19/10/2025</div>
                </div>
                <div style="text-align:right; font-size:12px; color:var(--muted)">Waterfall</div>
              </div>
              <div class="card-desc">Expect 1–2 hours. Then proceed to Kandi900 Glass Bridge.</div>
              <div class="chips"><span class="chip">Waterfall</span><span class="chip">Trek</span></div>
            </div>
          </div>
        </article>

        <article class="card" tabindex="0" data-name="Kandi900 Glass Bridge" data-time="1:00PM,19/10/2025" data-desc="Thrilling skywalk above rainforest with panoramic views." data-img="Resources/glass-bridge-900-kandi-wayanad.jpg">
          <div class="card-inner">
            <div class="card-face card-front"><img src="Resources/glass-bridge-900-kandi-wayanad.jpg" alt="Kandi900 Bridge"></div>
            <div class="card-face card-back">
              <div class="back-head">
                <div>
                  <div class="card-title">Kandi900 Glass Bridge</div>
                  <div class="card-time">1:00PM, 19/10/2025</div>
                </div>
                <div style="text-align:right; font-size:12px; color:var(--muted)">Bridge</div>
              </div>
              <div class="card-desc">Skywalk and vantage points. Plan 1–1.5 hours.</div>
              <div class="chips"><span class="chip">Bridge</span><span class="chip">View</span></div>
            </div>
          </div>
        </article>

        <article class="card" tabindex="0" data-name="1980's — A Nostalgic Restaurant" data-time="2:30PM,19/10/2025" data-desc="Lunch spot suggested by Sreyas. Ethnic food and nostalgic vibe." data-img="Resources/restaurant020241024052500.avif">
          <div class="card-inner">
            <div class="card-face card-front"><img src="Resources/restaurant020241024052500.avif" alt="1980s Restaurant"></div>
            <div class="card-face card-back">
              <div class="back-head">
                <div>
                  <div class="card-title">1980's Restaurant</div>
                  <div class="card-time">2:30PM, 19/10/2025</div>
                </div>
                <div style="text-align:right; font-size:12px; color:var(--muted)">Food</div>
              </div>
              <div class="card-desc">2–2.5 hours for lunch and rest. Then head to Banasura Sagar.</div>
              <div class="chips"><span class="chip">Ethnic</span><span class="chip">Lunch</span></div>
            </div>
          </div>
        </article>

        <article class="card" tabindex="0" data-name="Banasura Sagar" data-time="4:00PM,19/10/2025" data-desc="Largest earthen dam in India. Boat trips and scenic views to conclude the trip." data-img="Resources/banasura-sagar-dam.jpg">
          <div class="card-inner">
            <div class="card-face card-front"><img src="Resources/banasura-sagar-dam.jpg" alt="Banasura Sagar"></div>
            <div class="card-face card-back">
              <div class="back-head">
                <div>
                  <div class="card-title">Banasura Sagar</div>
                  <div class="card-time">4:00PM, 19/10/2025</div>
                </div>
                <div style="text-align:right; font-size:12px; color:var(--muted)">Scenic</div>
              </div>
              <div class="card-desc">Boat trips and trekking. Decisions on-spot for onward plans.</div>
              <div class="chips"><span class="chip">Boats</span><span class="chip">Views</span></div>
            </div>
          </div>
        </article>
      </div>
    </section>

    <footer>
      Made with care for the ultimate squad trip. Map and full guidelines available in the modal.
    </footer>
  </main>

  <!-- Detail overlay -->
  <div id="detailOverlay" class="detail-overlay" aria-hidden="true">
    <div class="detail-card" role="dialog" aria-modal="true">
      <button id="closeDetail" class="close-x" style="position:absolute; right:18px; top:14px; background:transparent; border:0; color:var(--muted); font-size:20px; cursor:pointer"><i class="fas fa-times"></i></button>
      <div class="detail-main">
        <h2 id="d-name">Title</h2>
        <div id="d-time" style="color:var(--muted); margin-bottom:8px"></div>
        <p id="d-desc" style="color:var(--muted); margin-bottom:10px"></p>
        <h4 style="color:var(--muted); margin:6px 0 8px">Plan</h4>
        <ul id="d-list" style="color:var(--muted); margin:0 0 12px 18px"></ul>
        <div style="display:flex; gap:10px; margin-top:12px">
          <a id="mapLink" class="btn" target="_blank" rel="noopener">Open map</a>
          <button id="closePanel" class="btn ghost">Close</button>
        </div>
      </div>
      <aside class="detail-right" id="d-aside">
        <div style="height:220px; overflow:hidden; border-radius:10px;">
          <img id="d-img" src="" alt="" style="width:100%;height:100%;object-fit:cover;display:block">
        </div>
        <div style="margin-top:12px; color:var(--muted); font-size:13px">
          <p><strong>Activity tags</strong></p>
          <div id="d-tags" style="display:flex; gap:8px; flex-wrap:wrap"></div>
          <hr style="border:none; height:1px; background:rgba(255,255,255,0.02); margin:12px 0">
          <p style="font-size:13px; color:var(--muted)"><strong>Assigned</strong></p>
          <div style="display:flex; gap:8px; margin-top:8px">
            <div class="avatar">A</div><div class="avatar">S</div><div class="avatar">B</div>
          </div>
        </div>
      </aside>
    </div>
  </div>

  <!-- Guidelines modal -->
  <div id="guidelinesModal" class="modal" aria-hidden="true">
    <div class="detail-card" style="grid-template-columns:1fr;">
      <button id="closeGuidelines" class="close-x" style="position:absolute; right:18px; top:14px; background:transparent; border:0; color:var(--muted); font-size:20px; cursor:pointer"><i class="fas fa-times"></i></button>
      <div style="padding:20px">
        <h2 style="margin:0 0 8px; font-family:Verdana, Geneva, Tahoma, sans-serif">Trip Guidelines & Disclaimer</h2>
        <div style="color:var(--muted); margin-top:12px; line-height:1.5">
          <ul>
            <li>Itinerary subject to weather and group preferences.</li>
            <li>Participants responsible for personal safety and belongings.</li>
            <li>Respect local customs. Follow driver schedule and rest.</li>
            <li>Share expenses equally. Track using a common app.</li>
            <li>Car: KA51MY5521 (Maruti Suzuki Baleno 2025)</li>
          </ul>
          <p style="margin-top:8px">Map: <a href="https://www.google.com/maps/d/u/0/edit?mid=1OQ4H7tL13CTDftP7auIJffdBxyJTcfM&ll=11.559889314998358%2C76.21846015275993&z=20" target="_blank" rel="noopener">Open trip map</a></p>
        </div>
      </div>
    </div>
  </div>

<script>
/* Countdown */
(function(){
  const target = new Date('October 18, 2025 02:00:00').getTime();
  function tick(){
    const now = Date.now();
    let diff = target - now;
    if(diff <= 0){ ['c-days','c-hours','c-mins','c-secs'].forEach(id=>document.getElementById(id).textContent='00'); return; }
    const days = Math.floor(diff/86400000); diff%=86400000;
    const hrs = Math.floor(diff/3600000); diff%=3600000;
    const mins = Math.floor(diff/60000); diff%=60000;
    const secs = Math.floor(diff/1000);
    document.getElementById('c-days').textContent = String(days).padStart(2,'0');
    document.getElementById('c-hours').textContent = String(hrs).padStart(2,'0');
    document.getElementById('c-mins').textContent = String(mins).padStart(2,'0');
    document.getElementById('c-secs').textContent = String(secs).padStart(2,'0');
  }
  tick(); setInterval(tick,1000);
})();

/* Tabs */
const tabs = document.querySelectorAll('.tab[data-day]');
tabs.forEach(t=>{
  t.addEventListener('click', ()=>{
    tabs.forEach(x=>x.classList.remove('active'));
    t.classList.add('active');
    const day = t.dataset.day;
    document.getElementById('day1').style.display = day==='day1' ? '' : 'none';
    document.getElementById('day2').style.display = day==='day2' ? '' : 'none';
    revealGrid(day==='day1' ? '#grid-day1' : '#grid-day2');
  });
});

/* Reveal grid cards with stagger */
function revealGrid(selector){
  const grid = document.querySelector(selector);
  if(!grid) return;
  const cards = grid.querySelectorAll('.card');
  cards.forEach(c=>{ c.style.opacity=0; c.style.transform='translateY(12px)'; });
  cards.forEach((c,i)=>setTimeout(()=>{ c.style.transition='opacity .5s, transform .6s'; c.style.opacity=1; c.style.transform='translateY(0)'; }, i*80));
}
revealGrid('#grid-day1');

/* Flip behavior: hover + tap */
function enableFlipForGrid(gridSelector){
  const grid = document.querySelector(gridSelector);
  if(!grid) return;
  grid.querySelectorAll('.card').forEach(card=>{
    // click/tap toggles flip state
    card.addEventListener('click', (e)=>{
      // if clicking interactive element inside card, don't toggle
      if(e.target.closest('a,button')) return;
      card.classList.toggle('flip');
    });
    // keyboard accessibility: Enter toggles
    card.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); card.classList.toggle('flip'); }
    });
    // double-click opens detail overlay (optional)
    card.addEventListener('dblclick', ()=> openDetailFromCard(card));
  });
}
enableFlipForGrid('#grid-day1');
enableFlipForGrid('#grid-day2');

/* Flip all / Unflip all */
const flipAllBtn = document.getElementById('flipAllBtn');
const unflipAllBtn = document.getElementById('unflipAllBtn');
flipAllBtn.addEventListener('click', ()=>{
  document.querySelectorAll('.card').forEach(c=>c.classList.add('flip'));
  flipAllBtn.style.display='none'; unflipAllBtn.style.display='';
});
unflipAllBtn.addEventListener('click', ()=>{
  document.querySelectorAll('.card').forEach(c=>c.classList.remove('flip'));
  unflipAllBtn.style.display='none'; flipAllBtn.style.display='';
});

/* Detail overlay open/close */
const detailOverlay = document.getElementById('detailOverlay');
const dName = document.getElementById('d-name');
const dTime = document.getElementById('d-time');
const dDesc = document.getElementById('d-desc');
const dImg = document.getElementById('d-img');
const dTags = document.getElementById('d-tags');
const dList = document.getElementById('d-list');
const mapLink = document.getElementById('mapLink');

function openDetailFromCard(card){
  const name = card.dataset.name || '';
  const time = card.dataset.time || '';
  const desc = card.dataset.desc || '';
  const img = card.dataset.img || '';
  dName.textContent = name;
  dTime.textContent = time;
  dDesc.textContent = desc;
  dImg.src = img;
  dTags.innerHTML = '';
  card.querySelectorAll('.chip').forEach(ch => {
    const s = document.createElement('span'); s.className='chip'; s.textContent = ch.textContent; dTags.appendChild(s);
  });
  dList.innerHTML = '';
  // small heuristic plans
  if(name.toLowerCase().includes('wayanad')){
    ['Pick up car','Start night drive','Shared driving schedule','Target arrival: ~11:00 AM'].forEach(i=>{ const li=document.createElement('li'); li.textContent=i; dList.appendChild(li); });
    mapLink.href='https://www.google.com/maps';
  } else if(name.toLowerCase().includes('phantom')){
    ['Visit viewpoint','Short photography slot','Proceed to Edakkal Caves'].forEach(i=>{ const li=document.createElement('li'); li.textContent=i; dList.appendChild(li); });
    mapLink.href='https://www.google.com/maps';
  } else {
    ['Follow the described schedule','Respect local rules','Stay hydrated','Share photos to group'].forEach(i=>{ const li=document.createElement('li'); li.textContent=i; dList.appendChild(li); });
    mapLink.href='https://www.google.com/maps';
  }
  detailOverlay.classList.add('active');
  detailOverlay.setAttribute('aria-hidden','false');
  document.body.style.overflow='hidden';
}
document.getElementById('closeDetail').addEventListener('click', closeDetail);
document.getElementById('closePanel').addEventListener('click', closeDetail);
detailOverlay.addEventListener('click', (e)=>{ if(e.target === detailOverlay) closeDetail(); });
function closeDetail(){ detailOverlay.classList.remove('active'); detailOverlay.setAttribute('aria-hidden','true'); document.body.style.overflow=''; }

/* Double-click / long-press support: already wired via dblclick above.
   For mobile long-press, implement touchstart timer to open detail. */
let touchTimer = null;
document.querySelectorAll('.card').forEach(card=>{
  card.addEventListener('touchstart', (e)=>{
    if(touchTimer) clearTimeout(touchTimer);
    touchTimer = setTimeout(()=>{ openDetailFromCard(card); }, 600);
  });
  card.addEventListener('touchend', ()=>{ if(touchTimer) clearTimeout(touchTimer); });
});

/* Guidelines modal */
const guidelinesModal = document.getElementById('guidelinesModal');
document.getElementById('openGuidelines').addEventListener('click', ()=>{ guidelinesModal.style.display='flex'; guidelinesModal.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden'; });
document.getElementById('closeGuidelines').addEventListener('click', ()=>{ guidelinesModal.style.display='none'; guidelinesModal.setAttribute('aria-hidden','true'); document.body.style.overflow=''; });

/* Theme toggle - light/dark inversion (comprehensive) */
const themeBtn = document.getElementById('toggleTheme');
let dark = true;
themeBtn.addEventListener('click', ()=>{
  dark = !dark;
  if(!dark){
    /* Light mode variables */
    document.documentElement.style.setProperty('--bg-1','#f6fbfb');
    document.documentElement.style.setProperty('--bg-2','#dff3f1');
    document.documentElement.style.setProperty('--card','#ffffff');
    document.documentElement.style.setProperty('--accent','#0f8b74');
    document.documentElement.style.setProperty('--accent-2','#2aa58f');
    document.documentElement.style.setProperty('--muted','#4b4b4b');
    document.documentElement.style.setProperty('--glass','rgba(0,0,0,0.04)');
    document.documentElement.style.setProperty('--glass-2','rgba(0,0,0,0.02)');
    document.documentElement.style.setProperty('--text','#111111');
    document.body.style.background = 'linear-gradient(180deg, var(--bg-1), var(--bg-2))';
    document.body.style.color = 'var(--text)';
    themeBtn.innerHTML = '<i class="fas fa-moon"></i>&nbsp; Dark';
    
    // Update modal backgrounds for light theme
    document.querySelectorAll('.detail-card, .modal .card').forEach(el => {
      el.style.background = 'linear-gradient(180deg, #f0f8f7, #e6f5f3)';
    });
    
    // Update header background for light theme
    document.querySelector('.header').style.background = 'linear-gradient(180deg, rgba(0,0,0,0.03), rgba(255,255,255,0.02))';
  } else {
    /* Dark mode variables (restore defaults) */
    document.documentElement.style.setProperty('--bg-1','#071014');
    document.documentElement.style.setProperty('--bg-2','#0f2a26');
    document.documentElement.style.setProperty('--card','#0e1b1a');
    document.documentElement.style.setProperty('--accent','#55A79A');
    document.documentElement.style.setProperty('--accent-2','#2fb6a9');
    document.documentElement.style.setProperty('--muted','#828d8b');
    document.documentElement.style.setProperty('--glass','rgba(255,255,255,0.06)');
    document.documentElement.style.setProperty('--glass-2','rgba(255,255,255,0.03)');
    document.documentElement.style.setProperty('--text','#e7f6f4');
    document.body.style.background = 'radial-gradient(1200px 600px at 10% 10%, rgba(47,182,169,0.06), transparent), linear-gradient(180deg,var(--bg-1),var(--bg-2))';
    document.body.style.color = 'var(--text)';
    themeBtn.innerHTML = '<i class="fas fa-sun"></i>&nbsp; Light';
    
    // Update modal backgrounds for dark theme
    document.querySelectorAll('.detail-card, .modal .card').forEach(el => {
      el.style.background = 'linear-gradient(180deg,#021615, #062827)';
    });
    
    document.querySelector('.header').style.background = 'linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03))';
  }
});

/* Keyboard focus detection */
document.addEventListener('keyup', e=>{ if(e.key === 'Tab') document.body.classList.add('show-focus'); });

/* Prevent click on interactive elements inside back/front from toggling flip */
document.querySelectorAll('.card-face a, .card-face button').forEach(el=>{
  el.addEventListener('click', (e)=> e.stopPropagation());
});

/* Fix for mobile card flipping - ensure cards can be flipped back */
document.addEventListener('DOMContentLoaded', function() {
  // Add touch event listeners for mobile devices
  if ('ontouchstart' in window) {
    document.querySelectorAll('.card').forEach(card => {
      // Remove hover behavior on mobile
      card.classList.remove('hover-enabled');
      
      // Add explicit touch handling
      card.addEventListener('touchstart', function(e) {
        // Don't flip if user is trying to scroll
        if (e.touches.length > 1) return;
        
        // Store initial touch position
        this.touchStartX = e.touches[0].clientX;
        this.touchStartY = e.touches[0].clientY;
        this.touchStartTime = Date.now();
      });
      
      card.addEventListener('touchend', function(e) {
        // Don't flip if user is trying to scroll
        if (e.touches.length > 0) return;
        
        const touchEndTime = Date.now();
        const touchDuration = touchEndTime - this.touchStartTime;
        
        // Only flip if it was a quick tap (not a long press)
        if (touchDuration < 300) {
          // Toggle flip state
          this.classList.toggle('flip');
        }
      });
    });
  }
});
</script>
</body>
</html>